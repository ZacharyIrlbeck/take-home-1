<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" 
        content="width=device-width, 
        initial-scale=1.0, 
        user-scalable=no" />
  <title>Inspiring Apps Challenge</title>
  <style>
    .black-circle {
        transform: translate3d(20px, 20px, 0px);
    }
  </style>
</head>

<body>
    <img src="ia-logo/ia-logo-dot-black.png" class="black" />
    <img src="ia-logo/ia-logo-dot-blue.png" class="blue" />
    <img src="ia-logo/ia-logo-dot-green.png" class="green" />
    <img src="ia-logo/ia-logo-dot-red.png" class="red" />
    <img src="ia-logo/ia-logo-back.png" class="logo" />


    <script>
        
        var black = document.querySelector(".black")
        var blue = document.querySelector(".blue")
        var green = document.querySelector(".green")
        var red = document.querySelector(".red")
        var logo = document.querySelector(".logo")
        
        var currentX
        var currentY 
        var initialX 
        var initialY
        var activeElement = null

        var xOffsetBlack = 0
        var yOffsetBlack = 0
        var xOffsetBlue = 0
        var yOffsetBlue = 0        
        var xOffsetRed = 0
        var yOffsetRed = 0
        var xOffsetGreen = 0
        var yOffsetGreen = 0

        document.addEventListener('mousedown', onMouseDown)
        document.addEventListener('mouseup', onMouseUp)
        document.addEventListener('mousemove', onMouseMove)

        function getOffset(elm){
            switch(elm){
                case black:
                    return [xOffsetBlack, yOffsetBlack]
                case blue:
                    return [xOffsetBlue, yOffsetBlue]
                case green: 
                    return [xOffsetGreen, yOffsetGreen] 
                case red:
                    return [xOffsetRed, yOffsetRed]
                default:
                break
            }
        }

        function setOffset(elm, x, y){
            switch(elm){
                case black:
                    xOffsetBlack = x 
                    yOffsetBlack = y
                    break 
                case blue: 
                    xOffsetBlue = x 
                    yOffsetBlue = y
                    break 
                case green:
                    xOffsetGreen = x 
                    yOffsetGreen = y
                    break 
                case red:
                    xOffsetRed = x
                    yOffsetRed = y
                    break
                default: 
                break 
            }
        }

        function setActiveElement(elm){
            switch(elm){
                case black:
                    activeElement = black
                    break 
                case blue:
                    activeElement = blue
                    break 
                case green:
                    activeElement = green 
                    break 
                case red:
                    activeElement = red
                    break
                default:
                break
            }
        }


        function onMouseDown(e){
            setActiveElement(e.target)
            const offsets = getOffset(e.target)

            initialX = e.clientX - offsets[0]
            initialY = e.clientY - offsets[1]
        }

        function onMouseUp(e){
            activeElement = null
        }

        function onMouseMove(e){
            e.preventDefault()

            if(activeElement){
                currentX = e.clientX - initialX
                currentY = e.clientY - initialY

                setOffset(activeElement, currentX, currentY)
                animateCircle(currentX, currentY, activeElement)
            }
        }

        function animateCircle(mouseX, mouseY, elm){
            elm.style.transform = "translate3d(" + mouseX + "px, " + mouseY + "px, 0)";
        }
    </script>
</body>

</html>